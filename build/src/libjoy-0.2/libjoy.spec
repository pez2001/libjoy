# This spec file was generated by KDevelop 
# Please report any problem to KDevelop Team <kdevelop-devel@kdevelop.org> 
# Thanks to Matthias Saou for his explanations on http://freshrpms.net/docs/fight.html

Name: libjoy
Version: 0.2
Release: 1
Vendor: vp
License: GPL
Summary: joystick development library
Group: Development/Libraries
Packager: pez2001
URL: http://www.voyagerproject.org
BuildRoot:  %{_tmppath}/%{name}-root 
Source: http://www.voyagerproject.org/gpl/libjoy/libjoy-%{version}.tar.gz
#BuildRequires: cmake

%description
A small library to do low-level handling of joysticks
written in C.


%prep
%setup -q 
%build
export CFLAGS="$RPM_OPT_FLAGS"
export CXXFLAGS="$CFLAGS"
cmake -DCMAKE_BUILD_TYPE=RELEASE -DCMAKE_INSTALL_PREFIX:PATH=/usr .
make joy joytool libjoytest


%install
rm -rf %{buildroot}
make install DESTDIR=$RPM_BUILD_ROOT
%clean
rm -rf %{buildroot}
%post -p /sbin/ldconfig
%postun -p /sbin/ldconfig
%files
%defattr(-, root, root)
%doc COPYING readme 
%{_bindir}/*
%{_libdir}/*.so*
%{_includedir}/*
%changelog 
* Sat Apr 05 2008 Tim Theede <pez2001@voyagerproject.de>
- some fixes to the state manager,should be fully working now 
* Fri Mar 28 2008 Tim Theede <pez2001@voyagerproject.de>
- Initial spec file for libjoy
